!function(e){function t(o){if(r[o])return r[o].exports;var n=r[o]={exports:{},id:o,loaded:!1};return e[o].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e){for(var t=m["default"].readJsonSync(_["default"].root("app/cache.json"),"utf8"),r=0;t.length>r;r+=1)if(t[r].title_url===e)return t[r];return!1}var s=r(2),i=o(s),a=r(3),u=o(a),c=r(11),p=o(c),l=r(12),f=o(l),d=r(13),m=o(d),h=r(5),_=o(h),x=r(14),g=o(x),v=r(15),E=(o(v),r(6)),w=(o(E),r(16)),b=o(w),y=r(17),R=o(y),k=r(18),S=o(k),q=r(19),I=o(q),j=r(4);r(20);var N=(0,g["default"])(),O=r(21)(),T=process.env.HOSTNAME||"localhost",C=process.env.PORT||8e3;R["default"].scheduleJob({hour:0,minute:0,dayOfWeek:0},function(){i["default"].get(j.SERVER_URL+"/posts").then(function(e){e.data!==m["default"].readJsonSync(_["default"].root("app/cache.json"),"utf8")&&m["default"].writeJsonSync(_["default"].root("app/cache.json"),JSON.stringify(e.data))})});(0,b["default"])(N,{root:_["default"].root("app"),layout:"index",viewExt:"html",cache:!1,debug:!0}),O.get("/posts/:title_url",regeneratorRuntime.mark(function P(e){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n(this.params.title_url),Object.assign(u["default"].meta.metadata,{title:t.title,description:t.subheading,publishedTime:t.created_at,modifiedTime:t.updated_at,type:"article",url:this.request.href}),e.next=4,this.render("index",{webpackConfig:u["default"]});case 4:case"end":return e.stop()}},P,this)})),O.get("*",regeneratorRuntime.mark(function L(e){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.render("index",{webpackConfig:u["default"]});case 2:case"end":return e.stop()}},L,this)})),N.use((0,S["default"])("static")),N.use((0,f["default"])()),N.use(O.routes()),N.use(O.allowedMethods()),N.use((0,p["default"])()),N.use((0,I["default"])()),N.listen(C,function(){console.info("==> âœ…  Node vars:",process.env),console.info("==> âœ…  Server is listening"),console.info("==> ðŸŒŽ  Go to http://%s:%s",T,C)})},function(e,t){e.exports=require("axios")},function(e,t,r){(function(t){"use strict";var o=r(4),n=r(5),s=r(8),i=r(9),a=r(6),u=r(10),c={title:"Rose St. Community Center",favicon:o.ICON,metadata:{image:o.IMAGE_URL,description:o.DESCRIPTION,name:o.SITE_NAME,type:"website",url:process.env.HOSTNAME||"localhost"}};e.exports={meta:c,target:"node",cache:!1,context:t,debug:!1,devtool:"source-map",entry:[n.root("app/server.js")],output:{path:n.root("dist"),filename:"server.js"},plugins:[new u.DefinePlugin({__CLIENT__:!1,__SERVER__:!0,__PRODUCTION__:!0,__DEV__:!1}),new s({NODE_ENV:"production"}),new u.optimize.UglifyJsPlugin({minimize:!0,compress:{warnings:!1}})],module:{loaders:[{test:/\.json$/,loaders:["json"]},{test:/\.js$/,loaders:["babel?presets[]=es2015&presets[]=stage-0&plugins[]=transform-function-bind&plugins[]=transform-class-properties&plugins[]=transform-decorators-legacy"],exclude:/node_modules/}],postLoaders:[],noParse:/\.min\.js/},externals:[i({whitelist:["webpack/hot/poll?1000"]})],resolve:{moduleDirectories:[a.resolve("app"),a.resolve("node_modules"),a.resolve("static")],extensions:["",".json",".js"]},node:{__dirname:!0,fs:"empty",global:"window",crypto:"empty",process:!0,module:!1,clearImmediate:!1,setImmediate:!1}}}).call(t,"")},function(e,t,r){"use strict";e.exports={STRIPE:{PUBLISHABLE_KEY:process.env.STRIPE},ICON:"https://raw.githubusercontent.com/idelairre/rose_st_client/master/app/favicon.ico",IMAGE_URL:"https://raw.githubusercontent.com/idelairre/rose_st_client/master/app/images/10612805_674783332611610_5602889381423136186_n.jpg",DESCRIPTION:"74 blocks (with the goal of 100) in East Baltimore where the peace is encouraged by the youth of the community, NOT THE POLICE!",SITE_NAME:"Rose St. Community Center",SERVER_URL:"https://rose-st-api.herokuapp.com"}},function(e,t,r){"use strict";var o=r(6),n=r(7);e.exports.root=function(e){return e=Array.prototype.slice.call(arguments,0),o.join.apply(o,[n.path].concat(e))}},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("app-root-path")},function(e,t){e.exports=require("inline-environment-variables-webpack-plugin")},function(e,t){e.exports=require("webpack-node-externals")},function(e,t){e.exports=require("webpack")},function(e,t){e.exports=require("koa-compress")},function(e,t){e.exports=require("koa-cors")},function(e,t){e.exports=require("fs-extra")},function(e,t){e.exports=require("koa")},function(e,t){e.exports=require("koa-logging")},function(e,t){e.exports=require("koa-ejs")},function(e,t){e.exports=require("node-schedule")},function(e,t){e.exports=require("koa-static")},function(e,t){e.exports=require("koa-useragent")},function(e,t){e.exports=require("babel-polyfill")},function(e,t){e.exports=require("koa-router")}]);
//# sourceMappingURL=server.js.map